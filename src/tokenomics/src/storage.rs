use std::cell::RefCell;
use std::collections::BTreeSet;
use std::sync::Arc;
use std::sync::Mutex;

use candid::Principal;
type Users = BTreeSet<Principal>;
pub const LBRY_THRESHOLDS: [u64; 18] = [
    21_000,      // 21,000.00
    42_000,      // 42,000.00
    84_000,      // 84,000.00
    168_000,     // 168,000.00
    336_000,     // 336,000.00
    672_000,     // 672,000.00	
    1_344_000,   // 1,344,000.00
    2_688_000,   // 2,688,000.00
    5_376_000,   // 5,376,000.00
    10_752_000,  // 10,752,000.00
    21_504_000,  // 21,504,000.00
    43_008_000,  // 43,008,000.00	
    86_016_000,  // 86,016,000.00
    172_032_000, // 172,032,000.00
    344_064_000, // 344,064,000.00
    688_128_000, // 688,128,000.00
    1_376_256_000,// 1,376,256,000.00
    61_763_128_000// 61,763,128,000.00  
];

pub const ALEX_PER_THRESHOLD: [u64; 18] = [
    //upto 4 decimals
    50_000,     // 5.0000
    25_000,     // 2.5000
    12_500,     // 1.2500
    6_250,      // 0.6250	
    3_125,      // 0.3125
    1_562,      // 0.1562
    781,        // 0.0781
    391,        // 0.0391
    195,        // 0.0195	
    98,         // 0.0098
    49,         //0.0049
    24,         // 0.0024
    12,         // 0.0012
    6,          // 0.0006
    3,          // 0.0003	
    2,          // 0.0002
    1,        // 0.0001
    1           // 0.0001
];

// V2
// pub const LBRY_THRESHOLDS: [u64; 23] = [
//     10_000_000_000,         // 100.0
//     20_000_000_000,         // 200.0
//     40_000_000_000,         // 400.0
//     100_000_000_000,        // 1,000.0
//     200_000_000_000,        // 2,000.0
//     400_000_000_000,        // 4,000.0
//     800_000_000_000,        // 8,000.0
//     1_600_000_000_000,      // 16,000.0
//     3_200_000_000_000,      // 32,000.0
//     6_400_000_000_000,      // 64,000.0
//     12_800_000_000_000,     // 128,000.0
//     25_600_000_000_000,     // 256,000.0
//     51_200_000_000_000,     // 512,000.0
//     102_400_000_000_000,    // 1,024,000.0
//     204_800_000_000_000,    // 2,048,000.0
//     409_600_000_000_000,    // 4,096,000.0
//     819_200_000_000_000,    // 8,192,000.0
//     1_638_400_000_000_000,  // 16,384,000.0
//     3_276_800_000_000_000,  // 32,768,000.0
//     6_553_600_000_000_000,  // 65,536,000.0
//     13_107_200_000_000_000, // 131,072,000.0
//     26_214_400_000_000_000, // 262,144,000.0
//     52_428_800_000_000_000, // 524,288,000.0
// ];

// pub const ALEX_PER_THRESHOLD: [u64; 23] = [
//     //upto 4 decimals
//     1000_0000, // 1000.0
//     500_0000,  // 500.0
//     250_0000,  // 250.0
//     125_0000,  // 125.0
//     63_0000,   // 63.0
//     32_0000,   // 32.0
//     16_0000,   // 16.0
//     7_0000,    // 7.0
//     4_0000,    // 4.0
//     2_0000,    // 2.0
//     1_0000,    // 1.0
//     5_000,     // 0.5
//     25_00,     // 0.25
//     13_00,     // 0.13
//     6_00,      // 0.06
//     3_00,      // 0.03
//     15_0,      // 0.015
//     100,       // 0.01
//     75,        // 0.0075
//     50,         // 0.005
//     30,         // 0.003
//     20,         // 0.002
//     15,        // 0.0015
// ];
// pub const ALEX_PER_THRESHOLD: [u64; 23] = [
//     100_000_000_000, // 1000.0
//     50_000_000_000,  // 500.0
//     25_000_000_000,  // 250.0
//     12_500_000_000,  // 125.0
//     6_300_000_000,   // 63.0
//     3_200_000_000,   // 32.0
//     1_600_000_000,   // 16.0
//     700_000_000,     // 7.0
//     400_000_000,     // 4.0
//     200_000_000,     // 2.0
//     100_000_000,     // 1.0
//     50_000_000,      // 0.5
//     25_000_000,      // 0.25
//     13_000_000,      // 0.13
//     6_000_000,       // 0.06
//     3_000_000,       // 0.03
//     1_500_000,       // 0.015
//     1_000_000,       // 0.01
//     750_000,         // 0.0075
//     500_000,         // 0.005
//     300_000,         // 0.003
//     200_000,         // 0.002
//     150_000,         // 0.0015
// ];

thread_local! {
    pub static ALLOWED_CALLERS: RefCell<Users> = RefCell::default();
      //Tokenomics
     pub static TOTAL_LBRY_BURNED: Arc<Mutex<u64>> = Arc::new(Mutex::new(0));
     pub static CURRENT_THRESHOLD: Arc<Mutex<u32>> = Arc::new(Mutex::new(0));
     pub static TOTAL_ALEX_MINTED: Arc<Mutex<u64>> = Arc::new(Mutex::new(0));
}
